{% extends "baseForParent.html.twig" %}
{% block title %}
    Historique
{% endblock %}

{% block mainContent %}
    <hr class="hr-4">
    <div class="col-xs-12">
        {% for resultatEleve in historique %}

            <hr>
            <hr>
            <br>
            <hr>
            <hr>

            {% if resultatEleve is null %}

                <hr>
            {% else %}
                <center><h4><b>* Annee Scolaire : </b>{{ resultatEleve.anneescolaire.periode }}</h4></center>
                <div>


                    <div class="row col-xs-8">
                        <h4><b>* Bulletin élève : </b>{{ nomPrenomEleve }}</h4>
                    </div>
                    <div class="row col-xs-4">
                        <h4><b>* Matricule : </b>{{ resultatEleve.eleve.matriculeEleve }}</h4>
                    </div>
                    <center><h4><b>* Trimestre : </b>{{ resultatEleve.trimestres }}</h4></center>
                </div>


                <div class="row" align="center">

                    <table border="1" class="table table-responsive" style="margin-top: 40px">
                        <tr class="table-header">
                            <td>Matiere</td>
                            <td>Note 1</td>
                            <td>Note 2</td>
                            <td>Note 3</td>
                            <td>Enseignant</td>
                            <td>Moyenne</td>
                            <td>Remarque de l'enseignant</td>
                        </tr>
                        {% for r in resultatEleve.resultat %}
                        <tr align="center">
                            <td>{{ r.matiere }}</td>

                            {% for i in 0..2 %}
                                {% if r.note[i] is not defined %}
                                    <td> ---</td>
                                {% else %}
                                    <td> {{ r.note[i] | number_format("2", ".", ",") }} </td>
                                {% endif %}

                            {% endfor %}


                            <td>
                                {{ r.nomenseignant.nomenseignant }} {{ r.nomenseignant.prenomenseignant }}
                            </td>
                            <td>
                                {{ r.moyenne | number_format("2", ".", ",") }}
                            </td>
                            <td>
                                <br><br>
                            </td>
                            {% endfor %}

                        <tr align="center">
                            <td colspan="6"><h4>Moyenne Générale</h4></td>
                            <td><h4>{{ resultatEleve.moyennegenerale | number_format("2", ".", ",") }}</h4></td>
                        </tr>
                    </table>
                </div>
            {% endif %}

            <hr class="hr-4">
            <br>
        {% endfor %}

    </div>
{% endblock %}